{
  "ast": null,
  "code": "import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar __jsx = React.createElement;\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n  p {\\n    margin-bottom: 1em;\\n  }\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n  color: \", \";\\n  display: inline-block;\\n  border: 3px solid \", \";\\n  padding: 10px;\\n  border-radius: 5px;\\n  margin-top: 10px;\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: 20px;\\n  background-color: \", \";\\n  color: white;\\n  line-height: 1.3em;\\n  margin-bottom: 60px;\\n\\n  @media screen and (min-width: 991px) {\\n    float: right;\\n    width: calc(60% - 40px);\\n  }\\n\\n  li {\\n    list-style: inside;\\n    margin-bottom: 10px;\\n  }\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: 20px;\\n  background-color: \", \";\\n  color: white;\\n  line-height: 1.3em;\\n  margin-bottom: 60px;\\n\\n  @media screen and (min-width: 991px) {\\n    float: left;\\n    width: calc(40% - 40px);\\n  }\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  font-size: 30px;\\n  line-height: 1.5em;\\n  color: #fff;\\n  text-align: center;\\n  position: absolute;\\n  top: 50%;\\n  left: 0;\\n  right: 0;\\n  transform: translateY(-50%);\\n\\n  @media screen and (min-width: 768px) {\\n    font-size: 90px;\\n  }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  height: 200px;\\n  position: relative;\\n  background-color: \", \";\\n  color: white;\\n  text-decoration: none;\\n\\n  @media screen and (min-width: 768px) {\\n    height: 500px;\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport moment from 'moment';\nimport { useRouter } from 'next/router';\nimport Head from 'next/head';\nimport { markdown } from 'markdown';\nimport Link from 'next/link';\nimport Header from '../../templates/Header';\nimport Footer from '../../templates/Footer';\nimport HeaderContainer from '../../components/HeaderContainer';\nimport Container from '../../components/Container';\nimport Image from '../../components/Image';\nimport Clearfix from '../../components/Clearfix';\nimport { getMenuColour, getFullUrl, getData, getAllColours } from '../../helpers';\nvar Subtitle = styled.div(_templateObject(), function (props) {\n  return props.colour;\n});\nvar Title = styled.h2(_templateObject2());\nvar ContentLeft = styled.div(_templateObject3(), function (props) {\n  return props.colour;\n});\nvar ContentRight = styled.div(_templateObject4(), function (props) {\n  return props.colour;\n});\nvar StyledLink = styled.a(_templateObject5(), function (props) {\n  return props.colour;\n}, function (props) {\n  return props.colour;\n});\nvar Article = styled.div(_templateObject6());\n\nvar Event = function Event() {\n  var _useState = useState(true),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  var _useState2 = useState(''),\n      title = _useState2[0],\n      setTitle = _useState2[1];\n\n  var _useState3 = useState(''),\n      image = _useState3[0],\n      setImage = _useState3[1];\n\n  var _useState4 = useState(''),\n      dateTime = _useState4[0],\n      setDateTime = _useState4[1];\n\n  var _useState5 = useState(''),\n      time = _useState5[0],\n      setTime = _useState5[1];\n\n  var _useState6 = useState(''),\n      article = _useState6[0],\n      setArticle = _useState6[1];\n\n  var _useState7 = useState(''),\n      colour = _useState7[0],\n      setColour = _useState7[1];\n\n  var _useState8 = useState(''),\n      colourHex = _useState8[0],\n      setColourHex = _useState8[1];\n\n  var _useState9 = useState(''),\n      colourHexLight = _useState9[0],\n      setColourHexLight = _useState9[1];\n\n  var _useState10 = useState(''),\n      pathname = _useState10[0],\n      setPathname = _useState10[1];\n\n  var router = useRouter();\n  var id = router.query.id;\n  useEffect(function () {\n    if (!id) return;\n    setPathname(id.split(' ').join('-').split('%20').join('-').toLowerCase());\n  }, [id]);\n  useEffect(function () {\n    if (pathname.length === 0) return;\n    getData(\"data/events/\".concat(pathname, \".json\")).then(function (data) {\n      var _getAllColours = getAllColours(getMenuColour(data)),\n          _getAllColours2 = _slicedToArray(_getAllColours, 3),\n          colour = _getAllColours2[0],\n          colourHex = _getAllColours2[1],\n          colourHexLight = _getAllColours2[2];\n\n      setColour(colour);\n      setColourHex(colourHex);\n      setColourHexLight(colourHexLight);\n      setDateTime(moment(data.dateTime).format('dddd DD MMM YYYY'));\n      setTime(moment(data.dateTime).format('HH:mm'));\n      setTitle(data.title);\n      setImage(data.image);\n      setArticle(data.article);\n      setLoading(false);\n    });\n  }, [pathname]);\n  if (!id) return null;\n  if (loading) return null;\n  return __jsx(React.Fragment, null, __jsx(Head, null, __jsx(\"title\", {\n    key: \"title\"\n  }, title, \" - Gateway Church, York\")), __jsx(Header, {\n    colour: colour,\n    colourHex: colourHex,\n    colourHexLight: colourHexLight,\n    Header: HeaderContainer\n  }), __jsx(\"main\", null, __jsx(Subtitle, {\n    colour: colourHex\n  }, __jsx(Image, {\n    url: getFullUrl(image)\n  }), __jsx(Title, null, title)), __jsx(Container, null, __jsx(ContentLeft, {\n    colour: colourHexLight\n  }, __jsx(\"div\", null, dateTime), __jsx(\"div\", null, time)), __jsx(ContentRight, {\n    colour: colourHex\n  }, article && __jsx(React.Fragment, null, __jsx(Article, {\n    dangerouslySetInnerHTML: {\n      __html: markdown.toHTML(article)\n    }\n  }), __jsx(Link, {\n    href: \"/events\",\n    passHref: true\n  }, __jsx(StyledLink, {\n    colour: colourHexLight\n  }, \"View a list of all events\")))), __jsx(Clearfix, null))), __jsx(Footer, null));\n};\n\nexport default Event;",
  "map": null,
  "metadata": {},
  "sourceType": "module"
}
