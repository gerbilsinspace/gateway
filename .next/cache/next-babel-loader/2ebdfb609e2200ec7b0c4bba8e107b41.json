{
  "ast": null,
  "code": "var _jsxFileName = \"/home/joe/dev/gateway/pages/[id].js\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { useRouter } from 'next/router';\nimport Head from 'next/head';\nimport { markdown } from 'markdown';\nimport { url } from '../helpers/config';\nimport Header from '../templates/Header';\nimport Footer from '../templates/Footer';\nimport HeaderContainer from '../components/HeaderContainer';\nimport Image from '../components/Image';\nimport ImageWrapper from '../components/ImageWrapper';\nimport Container from '../components/Container';\nimport Clearfix from '../components/Clearfix';\nimport { getData, getMenuColour, getFullUrl, changeColourToHex, getAllColours } from '../helpers';\nconst Deck = styled.div`\n  position: relative;\n  z-index: 1;\n  padding: 35px;\n  line-height: 30px;\n  color: #fff;\n`;\nconst PageSummary = styled.div`\n  position: absolute;\n  z-index: 1;\n  text-align: center;\n  font-size: 30px;\n  line-height: 36px;\n  color: #fff;\n  height: 200px;\n  width: 100%;\n  padding: 40px 0;\n  text-align: center;\n\n  @media screen and (min-width: 991px) {\n    height: 500px;\n    padding: 175px 0 0;\n  }\n\n  @media screen and (min-width: 1021px) {\n    font-size: 90px;\n    line-height: 1.5em;\n  }\n`;\nconst PageDeck = styled.div`\n  padding: 40px;\n  background-color: ${props => props.colour};\n  color: white;\n  margin-bottom: 20px;\n`;\nconst H2 = styled.h2`\n  font-size: 30px;\n  line-height: 36px;\n  margin-bottom: 20px;\n\n  @media screen and (min-width: 991px) {\n    width: 850px;\n    margin: 0 auto 20px;\n    text-align: center;\n  }\n`;\nconst P = styled.p`\n  @media screen and (min-width: 991px) {\n    font-size: 24px;\n    line-height: 30px;\n    width: 850px;\n    margin: 0 auto;\n    text-align: center;\n  }\n`;\nconst HeaderDeck = styled.h3`\n  position: absolute;\n  z-index: 1;\n  text-align: center;\n  color: white;\n  line-height: 200px;\n  height: 200px;\n  text-align: center;\n  font-size: 50px;\n  display: block;\n  width: 100%;\n\n  @media screen and (min-width: 991px) {\n    height: 500px;\n    line-height: 500px;\n  }\n`;\nconst ContentPieceContainer = styled.div`\n  float: ${props => props.direction};\n  background-color: ${props => props.colour};\n  width: ${props => props.width ? '100%' : 0};\n  min-height: 200px;\n\n  @media screen and (min-width: 991px) {\n    width: calc(${props => props.width}% - 10px);\n    border-right: ${props => props.direction === 'left' && props.width ? '10px solid #fff' : 0};\n    border-left: ${props => props.direction === 'right' && props.width ? '10px solid #fff' : 0};\n    border-bottom: ${props => props.width ? '20px solid white' : 0};\n    height: 500px;\n  }\n\n  h2 {\n    font-size: 2em;\n    line-height: 3em;\n  }\n\n  p {\n    margin-bottom: 1em;\n  }\n\n  a {\n    color: #fff;\n    text-decoration: underline;\n  }\n`;\n\nconst ContentPiece = ({\n  direction,\n  deck,\n  image,\n  colour,\n  width\n}) => {\n  let adjustedDirection = direction;\n\n  if (image) {\n    return __jsx(ContentPieceContainer, {\n      direction: adjustedDirection,\n      colour: colour,\n      width: width,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 7\n      }\n    }, __jsx(ImageWrapper, {\n      color: colour,\n      mobileMarginBottom: \"0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }\n    }, __jsx(Image, {\n      url: getFullUrl(image),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 11\n      }\n    }), deck && __jsx(HeaderDeck, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 20\n      }\n    }, deck)));\n  }\n\n  if (typeof deck === 'undefined') return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 43\n    }\n  });\n  return __jsx(React.Fragment, null, deck && __jsx(ContentPieceContainer, {\n    direction: adjustedDirection,\n    colour: colour,\n    width: width,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 9\n    }\n  }, __jsx(Deck, {\n    dangerouslySetInnerHTML: {\n      __html: markdown.toHTML(deck)\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 11\n    }\n  })));\n};\n\nconst ContentContainer = styled.li`\n  display: block;\n  width: 100%;\n`;\nconst Iframe = styled.div`\n  width: 100%;\n  height: 100vh;\n  margin-bottom: 40px;\n\n  iframe {\n    width: 100%;\n    height: 100vh;\n  }\n`;\n\nconst setWidth = (left = {}, right = {}) => {\n  let leftWidth = 0;\n  let rightWidth = 0;\n\n  if (left.deck && right.deck) {\n    leftWidth = 50;\n    rightWidth = 50;\n  } else if (left.image && right.image) {\n    leftWidth = 50;\n    rightWidth = 50;\n  } else if (left.image && right.deck) {\n    leftWidth = 60;\n    rightWidth = 40;\n  } else if (left.deck && right.image) {\n    leftWidth = 40;\n    rightWidth = 60;\n  } else if (!left.deck && !left.image && (right.image || right.deck)) {\n    leftWidth = 0;\n    rightWidth = 100;\n  } else if (!right.deck && !right.image && (left.image || left.deck)) {\n    leftWidth = 100;\n    rightWidth = 0;\n  }\n\n  return [leftWidth, rightWidth];\n};\n\nconst Content = ({\n  content\n}) => {\n  const {\n    left = {},\n    right = {}\n  } = content;\n  const [leftWidth, rightWidth] = setWidth(left, right);\n\n  if (right.deck && right.image) {\n    return __jsx(ContentContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 7\n      }\n    }, __jsx(ContentPiece, {\n      direction: \"right\",\n      deck: right.deck,\n      image: right.image,\n      colour: changeColourToHex(right.colour),\n      width: rightWidth,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }\n    }), __jsx(ContentPiece, {\n      direction: \"left\",\n      deck: left.deck,\n      image: left.image,\n      colour: changeColourToHex(left.colour),\n      width: leftWidth,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }\n    }), __jsx(Clearfix, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  return __jsx(ContentContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 5\n    }\n  }, __jsx(ContentPiece, {\n    direction: \"left\",\n    deck: left.deck,\n    image: left.image,\n    colour: changeColourToHex(left.colour),\n    width: leftWidth,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 7\n    }\n  }), __jsx(ContentPiece, {\n    direction: \"right\",\n    deck: right.deck,\n    image: right.image,\n    colour: changeColourToHex(right.colour),\n    width: rightWidth,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }\n  }), __jsx(Clearfix, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 7\n    }\n  }));\n};\n\nconst Contents = ({\n  contents = []\n}) => __jsx(\"ul\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 258,\n    columnNumber: 3\n  }\n}, contents.map(({\n  content\n}) => {\n  if (!content) return null;\n  const left = content.left || {};\n  const leftDeck = left.deck || '';\n  const right = content.right || {};\n  const rightDeck = right.deck || '';\n  return content && __jsx(Content, {\n    content: content,\n    key: leftDeck + rightDeck,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 20\n    }\n  });\n}));\n\nconst Page = () => {\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(true);\n  const {\n    0: error,\n    1: setError\n  } = useState(false);\n  const {\n    0: title,\n    1: setTitle\n  } = useState('');\n  const {\n    0: image,\n    1: setImage\n  } = useState('');\n  const {\n    0: colour,\n    1: setColour\n  } = useState('');\n  const {\n    0: colourHex,\n    1: setColourHex\n  } = useState('');\n  const {\n    0: colourHexLight,\n    1: setColourHexLight\n  } = useState('');\n  const {\n    0: subtitleImage,\n    1: setSubtitleImage\n  } = useState('');\n  const {\n    0: subtitleText,\n    1: setSubtitleText\n  } = useState('');\n  const {\n    0: deckTitle,\n    1: setDeckTitle\n  } = useState('');\n  const {\n    0: deckParagraph,\n    1: setDeckParagraph\n  } = useState('');\n  const {\n    0: iframe,\n    1: setIframe\n  } = useState('');\n  const {\n    0: contents,\n    1: setContents\n  } = useState([]);\n  const router = useRouter();\n  const {\n    query: {\n      id\n    }\n  } = router;\n  useEffect(() => {\n    if (!id) return;\n    getData(`data/pages/${id.split(' ').join('-').split('%20').join('-').toLowerCase()}.json`).then(data => {\n      setTitle(data.title);\n      setImage(data.header.image);\n      const [colour, colourHex, colourHexLight] = getAllColours(getMenuColour(data));\n      setColour(colour);\n      setColourHex(colourHex);\n      setColourHexLight(colourHexLight);\n      setSubtitleText(data.subtitle.subtitle);\n      setSubtitleImage(data.subtitle && data.subtitle.image && url + data.subtitle.image.slice(1));\n      setDeckTitle(data.deck && data.deck.title);\n      setDeckParagraph(data.deck && data.deck.paragraph);\n      setContents(data.contents);\n      setIframe(data.iframe || '');\n      setLoading(false);\n    }).catch(e => {\n      console.log(e);\n      setError(true);\n      setLoading(false);\n    });\n  }, [id]);\n  useEffect(() => {\n    if (error) {\n      router.replace('/error-404');\n    }\n  }, [error]);\n  if (loading) return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 23\n    }\n  });\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 5\n    }\n  }, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 7\n    }\n  }, __jsx(\"title\", {\n    key: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 9\n    }\n  }, title, \" - Gateway Church, York\")), __jsx(Header, {\n    colour: colour,\n    colourHex: colourHex,\n    colourHexLight: colourHexLight,\n    title: title,\n    image: image,\n    Header: HeaderContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 7\n    }\n  }), __jsx(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 7\n    }\n  }, subtitleImage && __jsx(ImageWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 11\n    }\n  }, __jsx(Image, {\n    url: subtitleImage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 13\n    }\n  }), __jsx(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 13\n    }\n  }, __jsx(PageSummary, {\n    color: colourHex,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 15\n    }\n  }, subtitleText)))), __jsx(PageDeck, {\n    colour: colourHex,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 7\n    }\n  }, __jsx(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 9\n    }\n  }, deckTitle && __jsx(H2, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 25\n    }\n  }, deckTitle), deckParagraph && __jsx(P, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 29\n    }\n  }, deckParagraph))), __jsx(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 7\n    }\n  }, __jsx(Contents, {\n    contents: contents,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 9\n    }\n  }), iframe && iframe.length > 0 && __jsx(Iframe, {\n    dangerouslySetInnerHTML: {\n      __html: iframe\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 11\n    }\n  })), __jsx(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default Page;",
  "map": {
    "version": 3,
    "sources": ["/home/joe/dev/gateway/pages/[id].js"],
    "names": [
      "React",
      "useState",
      "useEffect",
      "styled",
      "useRouter",
      "Head",
      "markdown",
      "url",
      "Header",
      "Footer",
      "HeaderContainer",
      "Image",
      "ImageWrapper",
      "Container",
      "Clearfix",
      "getData",
      "getMenuColour",
      "getFullUrl",
      "changeColourToHex",
      "getAllColours",
      "Deck",
      "div",
      "PageSummary",
      "PageDeck",
      "props",
      "colour",
      "H2",
      "h2",
      "P",
      "p",
      "HeaderDeck",
      "h3",
      "ContentPieceContainer",
      "direction",
      "width",
      "ContentPiece",
      "deck",
      "image",
      "adjustedDirection",
      "__html",
      "toHTML",
      "ContentContainer",
      "li",
      "Iframe",
      "setWidth",
      "left",
      "right",
      "leftWidth",
      "rightWidth",
      "Content",
      "content",
      "Contents",
      "contents",
      "map",
      "leftDeck",
      "rightDeck",
      "Page",
      "loading",
      "setLoading",
      "error",
      "setError",
      "title",
      "setTitle",
      "setImage",
      "setColour",
      "colourHex",
      "setColourHex",
      "colourHexLight",
      "setColourHexLight",
      "subtitleImage",
      "setSubtitleImage",
      "subtitleText",
      "setSubtitleText",
      "deckTitle",
      "setDeckTitle",
      "deckParagraph",
      "setDeckParagraph",
      "iframe",
      "setIframe",
      "setContents",
      "router",
      "query",
      "id",
      "split",
      "join",
      "toLowerCase",
      "then",
      "data",
      "header",
      "subtitle",
      "slice",
      "paragraph",
      "catch",
      "e",
      "console",
      "log",
      "replace",
      "length"
    ],
    "mappings": "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",
    "sourcesContent": [
      "import React, {useState, useEffect} from 'react';\nimport styled from 'styled-components';\nimport {useRouter} from 'next/router';\nimport Head from 'next/head';\nimport {markdown} from 'markdown';\n\nimport {url} from '../helpers/config';\nimport Header from '../templates/Header';\nimport Footer from '../templates/Footer';\nimport HeaderContainer from '../components/HeaderContainer';\nimport Image from '../components/Image';\nimport ImageWrapper from '../components/ImageWrapper';\nimport Container from '../components/Container';\nimport Clearfix from '../components/Clearfix';\nimport {\n  getData,\n  getMenuColour,\n  getFullUrl,\n  changeColourToHex,\n  getAllColours\n} from '../helpers';\n\nconst Deck = styled.div`\n  position: relative;\n  z-index: 1;\n  padding: 35px;\n  line-height: 30px;\n  color: #fff;\n`;\n\nconst PageSummary = styled.div`\n  position: absolute;\n  z-index: 1;\n  text-align: center;\n  font-size: 30px;\n  line-height: 36px;\n  color: #fff;\n  height: 200px;\n  width: 100%;\n  padding: 40px 0;\n  text-align: center;\n\n  @media screen and (min-width: 991px) {\n    height: 500px;\n    padding: 175px 0 0;\n  }\n\n  @media screen and (min-width: 1021px) {\n    font-size: 90px;\n    line-height: 1.5em;\n  }\n`;\n\nconst PageDeck = styled.div`\n  padding: 40px;\n  background-color: ${props => props.colour};\n  color: white;\n  margin-bottom: 20px;\n`;\n\nconst H2 = styled.h2`\n  font-size: 30px;\n  line-height: 36px;\n  margin-bottom: 20px;\n\n  @media screen and (min-width: 991px) {\n    width: 850px;\n    margin: 0 auto 20px;\n    text-align: center;\n  }\n`;\n\nconst P = styled.p`\n  @media screen and (min-width: 991px) {\n    font-size: 24px;\n    line-height: 30px;\n    width: 850px;\n    margin: 0 auto;\n    text-align: center;\n  }\n`;\n\nconst HeaderDeck = styled.h3`\n  position: absolute;\n  z-index: 1;\n  text-align: center;\n  color: white;\n  line-height: 200px;\n  height: 200px;\n  text-align: center;\n  font-size: 50px;\n  display: block;\n  width: 100%;\n\n  @media screen and (min-width: 991px) {\n    height: 500px;\n    line-height: 500px;\n  }\n`;\n\nconst ContentPieceContainer = styled.div`\n  float: ${props => props.direction};\n  background-color: ${props => props.colour};\n  width: ${props => (props.width ? '100%' : 0)};\n  min-height: 200px;\n\n  @media screen and (min-width: 991px) {\n    width: calc(${props => props.width}% - 10px);\n    border-right: ${props =>\n      props.direction === 'left' && props.width ? '10px solid #fff' : 0};\n    border-left: ${props =>\n      props.direction === 'right' && props.width ? '10px solid #fff' : 0};\n    border-bottom: ${props => (props.width ? '20px solid white' : 0)};\n    height: 500px;\n  }\n\n  h2 {\n    font-size: 2em;\n    line-height: 3em;\n  }\n\n  p {\n    margin-bottom: 1em;\n  }\n\n  a {\n    color: #fff;\n    text-decoration: underline;\n  }\n`;\n\nconst ContentPiece = ({direction, deck, image, colour, width}) => {\n  let adjustedDirection = direction;\n\n  if (image) {\n    return (\n      <ContentPieceContainer\n        direction={adjustedDirection}\n        colour={colour}\n        width={width}\n      >\n        <ImageWrapper color={colour} mobileMarginBottom=\"0\">\n          <Image url={getFullUrl(image)} />\n          {deck && <HeaderDeck>{deck}</HeaderDeck>}\n        </ImageWrapper>\n      </ContentPieceContainer>\n    );\n  }\n\n  if (typeof deck === 'undefined') return <div />;\n\n  return (\n    <>\n      {deck && (\n        <ContentPieceContainer\n          direction={adjustedDirection}\n          colour={colour}\n          width={width}\n        >\n          <Deck dangerouslySetInnerHTML={{__html: markdown.toHTML(deck)}} />\n        </ContentPieceContainer>\n      )}\n    </>\n  );\n};\n\nconst ContentContainer = styled.li`\n  display: block;\n  width: 100%;\n`;\n\nconst Iframe = styled.div`\n  width: 100%;\n  height: 100vh;\n  margin-bottom: 40px;\n\n  iframe {\n    width: 100%;\n    height: 100vh;\n  }\n`;\n\nconst setWidth = (left = {}, right = {}) => {\n  let leftWidth = 0;\n  let rightWidth = 0;\n\n  if (left.deck && right.deck) {\n    leftWidth = 50;\n    rightWidth = 50;\n  } else if (left.image && right.image) {\n    leftWidth = 50;\n    rightWidth = 50;\n  } else if (left.image && right.deck) {\n    leftWidth = 60;\n    rightWidth = 40;\n  } else if (left.deck && right.image) {\n    leftWidth = 40;\n    rightWidth = 60;\n  } else if (!left.deck && !left.image && (right.image || right.deck)) {\n    leftWidth = 0;\n    rightWidth = 100;\n  } else if (!right.deck && !right.image && (left.image || left.deck)) {\n    leftWidth = 100;\n    rightWidth = 0;\n  }\n\n  return [leftWidth, rightWidth];\n};\n\nconst Content = ({content}) => {\n  const {left = {}, right = {}} = content;\n  const [leftWidth, rightWidth] = setWidth(left, right);\n\n  if (right.deck && right.image) {\n    return (\n      <ContentContainer>\n        <ContentPiece\n          direction=\"right\"\n          deck={right.deck}\n          image={right.image}\n          colour={changeColourToHex(right.colour)}\n          width={rightWidth}\n        />\n        <ContentPiece\n          direction=\"left\"\n          deck={left.deck}\n          image={left.image}\n          colour={changeColourToHex(left.colour)}\n          width={leftWidth}\n        />\n        <Clearfix />\n      </ContentContainer>\n    );\n  }\n\n  return (\n    <ContentContainer>\n      <ContentPiece\n        direction=\"left\"\n        deck={left.deck}\n        image={left.image}\n        colour={changeColourToHex(left.colour)}\n        width={leftWidth}\n      />\n      <ContentPiece\n        direction=\"right\"\n        deck={right.deck}\n        image={right.image}\n        colour={changeColourToHex(right.colour)}\n        width={rightWidth}\n      />\n      <Clearfix />\n    </ContentContainer>\n  );\n};\n\nconst Contents = ({contents = []}) => (\n  <ul>\n    {contents.map(({content}) => {\n      if (!content) return null;\n      const left = content.left || {};\n      const leftDeck = left.deck || '';\n      const right = content.right || {};\n      const rightDeck = right.deck || '';\n\n      return (\n        content && <Content content={content} key={leftDeck + rightDeck} />\n      );\n    })}\n  </ul>\n);\n\nconst Page = () => {\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n  const [title, setTitle] = useState('');\n  const [image, setImage] = useState('');\n  const [colour, setColour] = useState('');\n  const [colourHex, setColourHex] = useState('');\n  const [colourHexLight, setColourHexLight] = useState('');\n  const [subtitleImage, setSubtitleImage] = useState('');\n  const [subtitleText, setSubtitleText] = useState('');\n  const [deckTitle, setDeckTitle] = useState('');\n  const [deckParagraph, setDeckParagraph] = useState('');\n  const [iframe, setIframe] = useState('');\n  const [contents, setContents] = useState([]);\n  const router = useRouter();\n\n  const {\n    query: {id}\n  } = router;\n\n  useEffect(() => {\n    if (!id) return;\n\n    getData(\n      `data/pages/${id\n        .split(' ')\n        .join('-')\n        .split('%20')\n        .join('-')\n        .toLowerCase()}.json`\n    )\n      .then(data => {\n        setTitle(data.title);\n        setImage(data.header.image);\n        const [colour, colourHex, colourHexLight] = getAllColours(\n          getMenuColour(data)\n        );\n        setColour(colour);\n        setColourHex(colourHex);\n        setColourHexLight(colourHexLight);\n        setSubtitleText(data.subtitle.subtitle);\n        setSubtitleImage(\n          data.subtitle &&\n            data.subtitle.image &&\n            url + data.subtitle.image.slice(1)\n        );\n        setDeckTitle(data.deck && data.deck.title);\n        setDeckParagraph(data.deck && data.deck.paragraph);\n        setContents(data.contents);\n        setIframe(data.iframe || '');\n\n        setLoading(false);\n      })\n      .catch(e => {\n        console.log(e);\n        setError(true);\n        setLoading(false);\n      });\n  }, [id]);\n\n  useEffect(() => {\n    if (error) {\n      router.replace('/error-404');\n    }\n  }, [error]);\n\n  if (loading) return <div />;\n\n  return (\n    <div>\n      <Head>\n        <title key=\"title\">{title} - Gateway Church, York</title>\n      </Head>\n      <Header\n        colour={colour}\n        colourHex={colourHex}\n        colourHexLight={colourHexLight}\n        title={title}\n        image={image}\n        Header={HeaderContainer}\n      />\n      <Container>\n        {subtitleImage && (\n          <ImageWrapper>\n            <Image url={subtitleImage} />\n            <Container>\n              <PageSummary color={colourHex}>{subtitleText}</PageSummary>\n            </Container>\n          </ImageWrapper>\n        )}\n      </Container>\n\n      <PageDeck colour={colourHex}>\n        <Container>\n          {deckTitle && <H2>{deckTitle}</H2>}\n          {deckParagraph && <P>{deckParagraph}</P>}\n        </Container>\n      </PageDeck>\n\n      <Container>\n        <Contents contents={contents} />\n        {iframe && iframe.length > 0 && (\n          <Iframe dangerouslySetInnerHTML={{__html: iframe}} />\n        )}\n      </Container>\n\n      <Footer />\n    </div>\n  );\n};\n\nexport default Page;\n"
    ]
  },
  "metadata": {},
  "sourceType": "module"
}
