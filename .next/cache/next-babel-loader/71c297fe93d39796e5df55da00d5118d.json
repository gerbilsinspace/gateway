{
  "ast": null,
  "code": "import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar __jsx = React.createElement;\n\nfunction _templateObject17() {\n  var data = _taggedTemplateLiteral([\"\\n  line-height: 1.5em;\\n\"]);\n\n  _templateObject17 = function _templateObject17() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject16() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 50%;\\n  float: right;\\n  height: 480px;\\n  margin-top: -20px;\\n  margin-right: -20px;\\n\"]);\n\n  _templateObject16 = function _templateObject16() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject15() {\n  var data = _taggedTemplateLiteral([\"\\n  @media screen and (min-width: 991px) {\\n    float: left;\\n    width: 50%;\\n    min-height: 480px;\\n  }\\n\"]);\n\n  _templateObject15 = function _templateObject15() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject14() {\n  var data = _taggedTemplateLiteral([\"\\n  color: white;\\n  background: \", \";\\n  padding: 20px;\\n  margin-left: -20px;\\n  margin-right: -20px;\\n\\n  @media screen and (min-width: 991px) {\\n    position: absolute;\\n    bottom: 0;\\n    width: 50%;\\n  }\\n\"]);\n\n  _templateObject14 = function _templateObject14() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject13() {\n  var data = _taggedTemplateLiteral([\"\\n  font-size: 30px;\\n  line-height: 36px;\\n  margin-bottom: 20px;\\n\"]);\n\n  _templateObject13 = function _templateObject13() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject12() {\n  var data = _taggedTemplateLiteral([\"\\n  font-size: 30px;\\n  line-height: 36px;\\n  color: \", \";\\n  margin-top: 20px;\\n  margin-bottom: 10px;\\n  padding: 0 20px;\\n\"]);\n\n  _templateObject12 = function _templateObject12() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject11() {\n  var data = _taggedTemplateLiteral([\"\\n  color: \", \";\\n  display: inline-block;\\n  margin-right: 20px;\\n  margin-bottom: 20px;\\n\"]);\n\n  _templateObject11 = function _templateObject11() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject10() {\n  var data = _taggedTemplateLiteral([\"\\n  color: white;\\n  padding: 20px 20px 0;\\n  display: block;\\n\"]);\n\n  _templateObject10 = function _templateObject10() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject9() {\n  var data = _taggedTemplateLiteral([\"\\n  background: \", \";\\n  color: white;\\n  position: relative;\\n  margin-bottom: 20px;\\n\"]);\n\n  _templateObject9 = function _templateObject9() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteral([\"\\n  font-size: 40px;\\n  line-height: 52px;\\n\"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\\n  @media screen and (min-width: 991px) {\\n    background: \", \"};\\n    margin-top: -20px;\\n    padding: 20px;\\n    color: white;\\n    font-size: 24px;\\n    line-height: 30px;\\n  }\\n\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n  width: calc(40% - 20px);\\n  float: left;\\n  margin-right: 20px;\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n  width: calc(40% - 20px);\\n  float: left;\\n  margin-right: 20px;\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n  width: calc(40% - 20px);\\n  margin-right: 20px;\\n  float: left;\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  font-size: 30px;\\n  line-height: 1.3em;\\n  margin-bottom: 20px;\\n\\n  @media screen and (min-width: 991px) {\\n    margin-bottom: 80px;\\n  }\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  font-size: 40px;\\n  line-height: 52px;\\n\\n  @media screen and (min-width: 991px) {\\n    font-size: 57pt;\\n    line-height: 1.3em;\\n  }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: 20px;\\n  background-color: \", \";\\n  color: #fff;\\n  margin-bottom: 20px;\\n\\n  @media screen and (min-width: 991px) {\\n    float: right;\\n    width: calc(60% - 40px);\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { useRouter } from 'next/router';\nimport Head from 'next/head';\nimport { HideAt } from 'react-with-breakpoints';\nimport { format } from 'date-fns';\nimport Header from '../templates/Header';\nimport HeaderContainer from '../components/HeaderContainer';\nimport ImageWrapper from '../components/ImageWrapper';\nimport Image from '../components/Image';\nimport Container from '../components/Container';\nimport Clearfix from '../components/Clearfix';\nimport Footer from '../templates/Footer';\nimport { getData, changeColourToHex, getMenuColour, getFullUrl, getAllColours } from '../helpers';\nvar Wrapper = styled.div(_templateObject(), function (props) {\n  return props.colour;\n});\nvar H1 = styled.h1(_templateObject2());\nvar H2 = styled.h2(_templateObject3());\nvar ImageAndEmailContainer = styled.div(_templateObject4());\nvar ImageContainer = styled.div(_templateObject5());\nvar EmailContainer = styled.div(_templateObject6());\nvar Contact = styled.div(_templateObject7(), function (props) {\n  return props.colour;\n});\nvar ContactHeader = styled.p(_templateObject8());\n\nvar PersonImageWrapper = function PersonImageWrapper(_ref) {\n  var image = _ref.image,\n      email = _ref.email,\n      colour = _ref.colour;\n\n  if (email && image) {\n    return __jsx(HideAt, {\n      breakpoint: \"mediumAndBelow\"\n    }, __jsx(ImageAndEmailContainer, null, __jsx(ImageWrapper, null, __jsx(Image, {\n      url: getFullUrl(image)\n    })), __jsx(Contact, {\n      colour: colour\n    }, __jsx(ContactHeader, null, \"Contact\"), __jsx(\"p\", null, \"Email: \", email))));\n  } else if (image) {\n    return __jsx(HideAt, {\n      breakpoint: \"mediumAndBelow\"\n    }, __jsx(ImageContainer, null, __jsx(ImageWrapper, null, __jsx(Image, {\n      url: getFullUrl(image)\n    }))));\n  }\n\n  return '';\n};\n\nvar Word = styled.li(_templateObject9(), function (prop) {\n  return prop.colour;\n});\nvar WordLink = styled.a(_templateObject10());\nvar WordDate = styled.div(_templateObject11(), function (props) {\n  return props.colour;\n});\nvar WordsTitle = styled.h2(_templateObject12(), function (props) {\n  return props.colour;\n});\nvar WordTitle = styled.h3(_templateObject13());\nvar WordReadMore = styled.div(_templateObject14(), function (props) {\n  return props.colour;\n});\nvar WordText = styled.div(_templateObject15());\nvar WordImage = styled.div(_templateObject16());\nvar PersonText = styled.div(_templateObject17());\n\nvar Person = function Person() {\n  var _useState = useState(true),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  var _useState2 = useState(''),\n      title = _useState2[0],\n      setTitle = _useState2[1];\n\n  var _useState3 = useState(''),\n      image = _useState3[0],\n      setImage = _useState3[1];\n\n  var _useState4 = useState(''),\n      deck = _useState4[0],\n      setDeck = _useState4[1];\n\n  var _useState5 = useState(''),\n      email = _useState5[0],\n      setEmail = _useState5[1];\n\n  var _useState6 = useState(''),\n      titleRole = _useState6[0],\n      setTitleRole = _useState6[1];\n\n  var _useState7 = useState(''),\n      colour = _useState7[0],\n      setColour = _useState7[1];\n\n  var _useState8 = useState(''),\n      colourHex = _useState8[0],\n      setColourHex = _useState8[1];\n\n  var _useState9 = useState(''),\n      colourHexLight = _useState9[0],\n      setColourHexLight = _useState9[1];\n\n  var _useState10 = useState(''),\n      words = _useState10[0],\n      setWords = _useState10[1];\n\n  var router = useRouter();\n  var asPath = router.asPath;\n  useEffect(function () {\n    Promise.all([getData(\"data\".concat(asPath.toLowerCase().split('%20').join('-'), \".json\")), getData(\"data/words/index.json\")]).then(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n          data = _ref3[0],\n          wordsData = _ref3[1];\n\n      var words = data.json ? data.json.words : data.words;\n\n      var _getAllColours = getAllColours(getMenuColour(data)),\n          _getAllColours2 = _slicedToArray(_getAllColours, 3),\n          colour = _getAllColours2[0],\n          colourHex = _getAllColours2[1],\n          colourHexLight = _getAllColours2[2];\n\n      setColour(colour);\n      setColourHex(colourHex);\n      setColourHexLight(colourHexLight);\n      setTitle(data.title);\n      setDeck(data.deck);\n      setImage(data.image);\n      setEmail(data.email);\n      setTitleRole(data.titleRole);\n      setWords((words || []).filter(function (word) {\n        var name = \"\".concat(word.toLowerCase().split(' ').join('-'), \".json\");\n        return !!wordsData[name] && !!wordsData[name].data && !!wordsData[name].data.date;\n      }).sort(function (a, b) {\n        var aName = \"\".concat(a.toLowerCase().split(' ').join('-'), \".json\");\n        var bName = \"\".concat(b.toLowerCase().split(' ').join('-'), \".json\");\n        return parseInt(wordsData[bName].data.date.split('-').join('')) - parseInt(wordsData[aName].data.date.split('-').join(''));\n      }).map(function (word) {\n        var wordName = \"\".concat(word.toLowerCase().split(' ').join('-'), \".json\");\n        return wordsData[wordName];\n      }));\n      setLoading(false);\n    });\n  }, []);\n  if (loading) return __jsx(\"div\", null);\n  return __jsx(React.Fragment, null, __jsx(Head, null, __jsx(\"title\", {\n    key: \"title\"\n  }, title.split('-').map(function (word) {\n    return word && word[0].toUpperCase() + word.substr(1);\n  }).join(' '), ' ', \"- Gateway Church, York\")), __jsx(Header, {\n    colour: colour,\n    colourHex: colourHex,\n    colourHexLight: colourHexLight,\n    Header: HeaderContainer\n  }), __jsx(Container, null, __jsx(PersonImageWrapper, {\n    email: email,\n    image: image,\n    colour: colourHex\n  }), __jsx(Wrapper, {\n    colour: colourHexLight\n  }, __jsx(H1, null, title.split('-').map(function (word) {\n    return word && word[0].toUpperCase() + word.substr(1);\n  }).join(' ')), __jsx(H2, null, titleRole), __jsx(PersonText, {\n    dangerouslySetInnerHTML: {\n      __html: deck\n    }\n  })), __jsx(Clearfix, null), words && words.length > 0 && __jsx(WordsTitle, {\n    colour: colourHex\n  }, \"Words\"), __jsx(\"ul\", null, words && words.map(function (word) {\n    var wordData = word && word.data;\n    return wordData && __jsx(Word, {\n      key: word.url,\n      colour: changeColourToHex(wordData.colour, true)\n    }, __jsx(WordLink, {\n      href: \"/words/\".concat(wordData.title.split(' ').join('-').split('-').map(function (word) {\n        return word.toLowerCase();\n      }).join('-'))\n    }, __jsx(WordText, null, __jsx(WordDate, {\n      colour: changeColourToHex(wordData.colour)\n    }, format(wordData.date, 'EEEE do LLLL yyyy'), wordData.authors.map(function (_ref4, index) {\n      var author = _ref4.author;\n      return __jsx(React.Fragment, {\n        key: author,\n        style: {\n          marginBottom: '10px',\n          marginRight: '5px',\n          display: 'inline-block'\n        }\n      }, ' - ', author.split('-').map(function (n) {\n        return n.charAt(0).toUpperCase() + n.slice(1);\n      }).join(' '), ' ');\n    })), __jsx(WordTitle, null, wordData.title.split('-').map(function (word) {\n      return word[0].toUpperCase() + word.substr(1);\n    }).join(' ')), __jsx(WordReadMore, {\n      colour: changeColourToHex(wordData.colour)\n    }, \"Read More +\")), __jsx(HideAt, {\n      breakpoint: \"mediumAndBelow\"\n    }, __jsx(WordImage, null, __jsx(ImageWrapper, null, __jsx(Image, {\n      url: getFullUrl(wordData.image)\n    })))), __jsx(Clearfix, null)));\n  }))), __jsx(Clearfix, null), __jsx(Footer, null));\n};\n\nexport default Person;",
  "map": null,
  "metadata": {},
  "sourceType": "module"
}
